\documentclass[]{book}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={The R Style Guide},
            pdfauthor={Hadley Wickham and Garrett Grolemund},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{natbib}
\bibliographystyle{plainnat}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{{#1}}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{{#1}}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\ImportTok}[1]{{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{{#1}}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{{#1}}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{{#1}}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{{#1}}}}
\newcommand{\BuiltInTok}[1]{{#1}}
\newcommand{\ExtensionTok}[1]{{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{{#1}}}
\newcommand{\RegionMarkerTok}[1]{{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\NormalTok}[1]{{#1}}
\usepackage{longtable,booktabs}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\newcommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}
  \title{The R Style Guide}
  \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
  \author{Hadley Wickham and Garrett Grolemund}
  \preauthor{\centering\large\emph}
  \postauthor{\par}
  \predate{\centering\large\emph}
  \postdate{\par}
  \date{2017-03-07}

\usepackage{booktabs}
\usepackage{amsthm}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother

\begin{document}
\maketitle

{
\setcounter{tocdepth}{1}
\tableofcontents
}
\chapter{Style guide}\label{style}

Good coding style is like correct punctuation: you can manage without
it, but it sure makes things easier to read. As with punctuation, there
are many ways to style your code that you can choose from, but some ways
are more reader-friendly than others. The following guide describes the
style that I use. It is based on Google's
\href{http://google-styleguide.googlecode.com/svn/trunk/google-r-style.html}{R
style guide}, with a few tweaks. You don't have to use my style, but you
really should use a consistent style. \index{style guide}
\index{code style}

Good style is important because while your code only has one author,
it'll usually have multiple readers. This is especially true when you're
writing code with others. In that case, it's a good idea to agree on a
common style up-front. Since no style is strictly better than another,
working with others may mean that you'll need to sacrifice some
preferred aspects of your style.

The formatR package, by Yihui Xie, makes it easier to clean up poorly
formatted code. It can't do everything, but it can quickly get your code
from terrible to pretty good. Make sure to read
\href{https://yihui.name/formatR/}{the notes} before using it.

\chapter{Notation and naming}\label{style-notnam}

\section{File names}\label{file-names}

File names should be meaningful and end in \texttt{.R}.

\begin{verbatim}
# Good
fit_models.R
utility_functions.R

# Bad
foo.r
stuff.r
\end{verbatim}

If files need to be run in sequence, prefix them with numbers:

\begin{verbatim}
0_download.R
1_parse.R
2_explore.R
\end{verbatim}

Pay attention to capitalization, since you, or some of your
collaborators, might be using an operating system with a
case-insensitive file system (e.g., Microsoft Windows or OS X) which can
lead to problems with (case-sensitive) revision control systems. Never
use filenames that differ only in capitalization.

\section{Object names}\label{object-names}

\begin{quote}
``There are only two hard things in Computer Science: cache invalidation
and naming things.''

--- Phil Karlton
\end{quote}

Variable and function names should be lowercase. Use an underscore
(\texttt{\_}) to separate words within a name. Generally, variable names
should be nouns and function names should be verbs. Strive for names
that are concise and meaningful (this is not easy!).

Although standard R uses dots extensively in function names
(\texttt{contrib.url()}), methods (\texttt{all.equal}), or class names
(\texttt{data.frame}), it's better to use underscores. For example, the
basic S3 scheme to define a method for a class, using a generic
function, would be to concatenate them with a dot, like this
\texttt{generic.class}. This can lead to confusing methods like
\texttt{as.data.frame.data.frame()} whereas something like
\texttt{print.my\_class()} is unambiguous.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\NormalTok{day_one}
\NormalTok{day_1}

\CommentTok{# Bad}
\NormalTok{first_day_of_the_month}
\NormalTok{DayOne}
\NormalTok{dayone}
\NormalTok{djm1}
\end{Highlighting}
\end{Shaded}

Where possible, avoid using names of existing functions and variables.
This will cause confusion for the readers of your code.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Bad}
\NormalTok{T <-}\StringTok{ }\OtherTok{FALSE}
\NormalTok{c <-}\StringTok{ }\DecValTok{10}
\NormalTok{mean <-}\StringTok{ }\NormalTok{function(x) }\KeywordTok{sum}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\chapter{Syntax}\label{style-syn}

\section{Spacing}\label{spacing}

Place spaces around all infix operators (\texttt{=}, \texttt{+},
\texttt{-}, \texttt{\textless{}-}, etc.). The same rule applies when
using \texttt{=} in function calls. Always put a space after a comma,
and never before (just like in regular English).

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\NormalTok{average <-}\StringTok{ }\KeywordTok{mean}\NormalTok{(feet /}\StringTok{ }\DecValTok{12} \NormalTok{+}\StringTok{ }\NormalTok{inches, }\DataTypeTok{na.rm =} \OtherTok{TRUE}\NormalTok{)}

\CommentTok{# Bad}
\NormalTok{average<-}\KeywordTok{mean}\NormalTok{(feet/}\DecValTok{12}\NormalTok{+inches,}\DataTypeTok{na.rm=}\OtherTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

There's a small exception to this rule: \texttt{:}, \texttt{::} and
\texttt{:::} don't need spaces around them.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\NormalTok{x <-}\StringTok{ }\DecValTok{1}\NormalTok{:}\DecValTok{10}
\NormalTok{base::get}

\CommentTok{# Bad}
\NormalTok{x <-}\StringTok{ }\DecValTok{1} \NormalTok{:}\StringTok{ }\DecValTok{10}
\NormalTok{base ::}\StringTok{ }\NormalTok{get}
\end{Highlighting}
\end{Shaded}

Place a space before left parentheses, except in a function call.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\NormalTok{if (debug) }\KeywordTok{show}\NormalTok{(x)}
\KeywordTok{plot}\NormalTok{(x, y)}

\CommentTok{# Bad}
\NormalTok{if(debug)}\KeywordTok{show}\NormalTok{(x)}
\KeywordTok{plot} \NormalTok{(x, y)}
\end{Highlighting}
\end{Shaded}

Extra spacing (i.e., more than one space in a row) is ok if it improves
alignment of equal signs or assignments (\texttt{\textless{}-}).

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{list}\NormalTok{(}
  \DataTypeTok{total =} \NormalTok{a +}\StringTok{ }\NormalTok{b +}\StringTok{ }\NormalTok{c, }
  \DataTypeTok{mean  =} \NormalTok{(a +}\StringTok{ }\NormalTok{b +}\StringTok{ }\NormalTok{c) /}\StringTok{ }\NormalTok{n}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Do not place spaces around code in parentheses or square brackets
(unless there's a comma, in which case see above).

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\NormalTok{if (debug) }\KeywordTok{do}\NormalTok{(x)}
\NormalTok{diamonds[}\DecValTok{5}\NormalTok{, ]}

\CommentTok{# Bad}
\NormalTok{if ( debug ) }\KeywordTok{do}\NormalTok{(x)  }\CommentTok{# No spaces around debug}
\NormalTok{x[}\DecValTok{1}\NormalTok{,]   }\CommentTok{# Needs a space after the comma}
\NormalTok{x[}\DecValTok{1} \NormalTok{,]  }\CommentTok{# Space goes after comma not before}
\end{Highlighting}
\end{Shaded}

\section{Curly braces}\label{curly-braces}

An opening curly brace should never go on its own line and should always
be followed by a new line. A closing curly brace should always go on its
own line, unless it's followed by \texttt{else} (or a closing
parenthesis).

Always indent the code inside curly braces. When indenting your code,
use two spaces. Never use tabs or mix tabs and spaces.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\NormalTok{if (y <}\StringTok{ }\DecValTok{0} \NormalTok{&&}\StringTok{ }\NormalTok{debug) \{}
  \KeywordTok{message}\NormalTok{(}\StringTok{"y is negative"}\NormalTok{)}
\NormalTok{\}}

\NormalTok{if (y ==}\StringTok{ }\DecValTok{0}\NormalTok{) \{}
  \NormalTok{if (x >}\StringTok{ }\DecValTok{0}\NormalTok{) \{}
    \KeywordTok{log}\NormalTok{(x)}
  \NormalTok{\} else \{}
    \KeywordTok{message}\NormalTok{(}\StringTok{"x is negative or zero"}\NormalTok{)}
  \NormalTok{\}}
\NormalTok{\} else \{}
  \NormalTok{y ^}\StringTok{ }\NormalTok{x}
\NormalTok{\}}

\CommentTok{# Bad}
\NormalTok{if (y <}\StringTok{ }\DecValTok{0} \NormalTok{&&}\StringTok{ }\NormalTok{debug)}
\KeywordTok{message}\NormalTok{(}\StringTok{"Y is negative"}\NormalTok{)}

\NormalTok{if (y ==}\StringTok{ }\DecValTok{0}\NormalTok{)}
\NormalTok{\{}
    \NormalTok{if (x >}\StringTok{ }\DecValTok{0}\NormalTok{) \{}
\NormalTok{⇥       }\KeywordTok{log}\NormalTok{(x)}
    \NormalTok{\} else \{}
\NormalTok{⇥       }\KeywordTok{message}\NormalTok{(}\StringTok{"x is negative or zero"}\NormalTok{)}
    \NormalTok{\}}
\NormalTok{\} }
\NormalTok{else \{ y ^}\StringTok{ }\NormalTok{x \}}
\end{Highlighting}
\end{Shaded}

It's ok to leave very short statements on the same line:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{if (y <}\StringTok{ }\DecValTok{0} \NormalTok{&&}\StringTok{ }\NormalTok{debug) }\KeywordTok{message}\NormalTok{(}\StringTok{"Y is negative"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Line length}\label{line-length}

Strive to limit your code to 80 characters per line. This fits
comfortably on a printed page with a reasonably sized font. If you find
yourself running out of room, this is a good indication that you should
encapsulate some of the work in a separate function.

\section{Indentation}\label{indentation}

If a function definition runs over multiple lines, indent the second
line to where the definition starts.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\NormalTok{long_function_name <-}\StringTok{ }\NormalTok{function(}\DataTypeTok{a =} \StringTok{"a long argument"}\NormalTok{, }
                               \DataTypeTok{b =} \StringTok{"another argument"}\NormalTok{,}
                               \DataTypeTok{c =} \StringTok{"another long argument"}\NormalTok{) \{}
  \CommentTok{# As usual code is indented by two spaces.}
\NormalTok{\}}

\CommentTok{# Bad}
\NormalTok{long_function_name <-}\StringTok{ }\NormalTok{function(}\DataTypeTok{a =} \StringTok{"a long argument"}\NormalTok{,}
  \DataTypeTok{b =} \StringTok{"another argument"}\NormalTok{,}
  \DataTypeTok{c =} \StringTok{"another long argument"}\NormalTok{) \{}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

If a function call is too long, put the function name, each argument,
and the closing parenthesis on a separate line. This makes the code
easier to read and to change later. You may also place several arguments
on the same line if they are closely related to each other, e.g.,
strings in calls to \texttt{paste()} or \texttt{stop()}:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\KeywordTok{do_something_very_complicated}\NormalTok{(}
  \StringTok{"that"}\NormalTok{,}
  \DataTypeTok{requires =} \NormalTok{many,}
  \DataTypeTok{arguments =} \StringTok{"some of which may be long"}
\NormalTok{)}

\KeywordTok{paste0}\NormalTok{(}
  \StringTok{"Requirement: "}\NormalTok{, requires, }\StringTok{"}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{,}
  \StringTok{"Result: "}\NormalTok{, result, }\StringTok{"}\CharTok{\textbackslash{}n}\StringTok{"}
\NormalTok{)}

\CommentTok{# Bad}
\KeywordTok{do_something_very_complicated}\NormalTok{(}\StringTok{"that"}\NormalTok{, requires, many, arguments,}
                              \StringTok{"some of which may be long"}
                              \NormalTok{)}

\KeywordTok{paste0}\NormalTok{(}
  \StringTok{"Requirement: "}\NormalTok{, requires,}
  \StringTok{"}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{, }\StringTok{"Result: "}\NormalTok{,}
  \NormalTok{result, }\StringTok{"}\CharTok{\textbackslash{}n}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{Assignment}\label{assignment}

Use \texttt{\textless{}-}, not \texttt{=}, for assignment.
\index{assignment}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\NormalTok{x <-}\StringTok{ }\DecValTok{5}

\CommentTok{# Bad}
\NormalTok{x =}\StringTok{ }\DecValTok{5}
\end{Highlighting}
\end{Shaded}

\section{Quotes}\label{quotes}

Use \texttt{"}, not \texttt{\textquotesingle{}}, for quoting text. The
only exception is when the text already contains double quotes and no
single quotes.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\StringTok{"Text"}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Text"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\StringTok{'Text with "quotes"'}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Text with \"quotes\""
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Bad}
\StringTok{'Text'}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Text"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\StringTok{'Text with "double" and }\CharTok{\textbackslash{}'}\StringTok{single}\CharTok{\textbackslash{}'}\StringTok{ quotes'}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "Text with \"double\" and 'single' quotes"
\end{verbatim}

\chapter{Functions}\label{style-fun}

Use verbs for function names, where possible.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\KeywordTok{add_row}\NormalTok{()}
\KeywordTok{permute}\NormalTok{()}

\CommentTok{# Bad}
\KeywordTok{row_adder}\NormalTok{()}
\KeywordTok{permutation}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

Only use \texttt{return()} for early returns. Otherwise rely on R to
return the result of the last row of a function.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\NormalTok{find_abs <-}\StringTok{ }\NormalTok{function(x, y)\{}
  \NormalTok{if (x >}\StringTok{ }\DecValTok{0}\NormalTok{) }\KeywordTok{return}\NormalTok{(x)}
  \NormalTok{x *}\StringTok{ }\NormalTok{-}\DecValTok{1}
\NormalTok{\}}

\CommentTok{# Bad}
\NormalTok{add_two <-}\StringTok{ }\NormalTok{function(x, y) \{}
  \KeywordTok{return}\NormalTok{(x +}\StringTok{ }\NormalTok{y)}
\NormalTok{\}}
\end{Highlighting}
\end{Shaded}

Strive to keep blocks within a function on one screen, so around 20-30
lines maximum. Some even argue that if a \emph{function} has 20 lines,
it should be split into smaller functions.

\chapter{Pipes}\label{style-pipes}

Use the \texttt{\%\textgreater{}\%} operator from the tidyverse when you
find yourself composing more than two functions together into a nested
call, or when you find yourself creating unnecessaty interim objects to
avoid nesting functions together.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\NormalTok{foo_foo %>%}
\StringTok{  }\KeywordTok{hop}\NormalTok{(}\DataTypeTok{through =} \NormalTok{forest) %>%}
\StringTok{  }\KeywordTok{scoop}\NormalTok{(}\DataTypeTok{up =} \NormalTok{field_mouse) %>%}
\StringTok{  }\KeywordTok{bop}\NormalTok{(}\DataTypeTok{on =} \NormalTok{head)}

\CommentTok{# Bad}
\KeywordTok{bop}\NormalTok{(}
  \KeywordTok{scoop}\NormalTok{(}
    \KeywordTok{hop}\NormalTok{(foo_foo, }\DataTypeTok{through =} \NormalTok{forest),}
    \DataTypeTok{up =} \NormalTok{field_mice}
  \NormalTok{), }
  \DataTypeTok{on =} \NormalTok{head}
\NormalTok{)}

\NormalTok{foo_foo <-}\StringTok{ }\KeywordTok{hop}\NormalTok{(foo_foo, }\DataTypeTok{through =} \NormalTok{forest)}
\NormalTok{foo_foo <-}\StringTok{ }\KeywordTok{scoop}\NormalTok{(foo_foo, }\DataTypeTok{up =} \NormalTok{field_mice)}
\NormalTok{foo_foo <-}\StringTok{ }\KeywordTok{bop}\NormalTok{(foo_foo, }\DataTypeTok{on =} \NormalTok{head)}
\end{Highlighting}
\end{Shaded}

When you use the \texttt{\%\textgreater{}\%} operator, put each verb on
its own line. This makes it simpler to rearrange them later, and makes
it harder to overlook a step. It is ok to keep a one-step pipe in one
line.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Good}
\NormalTok{iris %>%}
\StringTok{  }\KeywordTok{group_by}\NormalTok{(Species) %>%}
\StringTok{  }\KeywordTok{summarize_all}\NormalTok{(mean) %>%}
\StringTok{  }\NormalTok{ungroup %>%}
\StringTok{  }\KeywordTok{gather}\NormalTok{(measure, value, -Species) %>%}
\StringTok{  }\KeywordTok{arrange}\NormalTok{(value)}

\NormalTok{iris %>%}\StringTok{ }\KeywordTok{arrange}\NormalTok{(Petal.Width)}

\CommentTok{# Bad}
\NormalTok{iris %>%}\StringTok{ }\KeywordTok{group_by}\NormalTok{(Species) %>%}\StringTok{ }\KeywordTok{summarize_all}\NormalTok{(mean) %>%}
\StringTok{  }\NormalTok{ungroup %>%}\StringTok{ }\KeywordTok{gather}\NormalTok{(measure, value, -Species) %>%}
\StringTok{  }\KeywordTok{arrange}\NormalTok{(value)}
\end{Highlighting}
\end{Shaded}

\section{When not to use the pipe}\label{when-not-to-use-the-pipe}

Do not use a pipe if:

\begin{itemize}
\item
  You need to manipulate more than one object at a time. Reserve pipes
  for a sequence of steps applied to one primary object.
\item
  You have more than (say) ten steps in your pipe. In that case, divide
  your pipe into shorter pipes that create intermediate objects with
  meaningful names.
\end{itemize}

\chapter{Organisation}\label{style-org}

\section{Commenting guidelines}\label{commenting-guidelines}

Comment your code. Each line of a comment should begin with the comment
symbol and a single space: \texttt{\#}. Comments should explain the why,
not the what of your code. \index{comments}

Use commented lines of \texttt{-} and \texttt{=} to break up your file
into easily readable chunks.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Load data ---------------------------}

\CommentTok{# Plot data ---------------------------}
\end{Highlighting}
\end{Shaded}


\end{document}
